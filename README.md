  ## Описание проекта
 
Телеграм бот для получения задач и их обновлений с аккаунта Яндекс.Трекера.

## Как установить
Для начала устанавливаме сам код. Для этого в командной строке, в нужной нам папке вводим `git clone https://github.com/Glicher-wp/Telegram_bot_by_startrack.git`. Предварительно убедитесь, что у вас установлен **git**. после этого, создаем виртуальное окружение и вводим команду `pip install -r rquirements.txt`. После чего будут установлены все необходимые библиотеки.
Дальше нам нужно получить необходимые для работы **токены**

### Получение токена Telegram
Здесь все просто, идем в наш Telegram (предварительно не забыв его установить) и находим там **@BotFather**. 
![куда-то делось изображение](https://png.cmtt.space/paper-media/24/a0/9c/1b28d2e0b91a8e.png)

Далее следуем инстркциям и получаем от него **токен** для своего бота. Подставляем его в `TELEGRAM_TOKEN = os.environ.get("TELEGRAM_TOKEN")`.

### Получение задач
После этого нам остается только настроить фильтр на нужную очередь, **ключ** которой мы подставим в строку поиска `issue_filter = 'issues?filter=queue:<**ключ очереди**>&' \
               f'filter=assignee:me()&' \
               f'filter=status:open&'`. Переменная нахдится в модуле **config.py** и по-умолчанию там стоит очередь **PCR**. Сам ключ находится в адрессной строке, либо его можно увидеть при создании задачи. Он представляет из себя заглавные латинские буквы.

Теперь бот готов. Остается только запустить его: `python telegram_bot_logic.py`

## Как пользоваться
Бот использует api СтарТрека поэтому для работы требуетс только **token** очереди. Получить его можно зайдя из под соответвствующего аккаунта (т.е. из под аккаунта, который подключен к их системе и у которого есть доступ к этому токену). Бот принимает **token** пользователя Яндекс.Трекера и возвращает ему список текущих задача, после чего предлагает каждые 20 минут получать собщения об обновленных задачах, если таковые появляются. 
Для командного взаимодействия с ботом используются команды: `/start`, `/status`, `/cancel`. Которые запускают работу бота, возвращают всю статистику по задачам, и завершают работу бота, соответственно. Остальные данные бот получает из текстовых сообщений.

 
